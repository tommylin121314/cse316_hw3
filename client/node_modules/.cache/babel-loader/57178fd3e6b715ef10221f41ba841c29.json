{"ast":null,"code":"var _jsxFileName = \"/Users/tommylin/Desktop/CSE316/cse316_hw3/client/src/components/modals/CreateAccount.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { REGISTER } from '../../cache/mutations';\nimport { useMutation } from '@apollo/client';\nimport { WModal, WMHeader, WMMain, WMFooter, WButton, WInput, WRow, WCol } from 'wt-frontend';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreateAccount = props => {\n  _s();\n\n  const [input, setInput] = useState({\n    email: '',\n    password: '',\n    firstName: '',\n    lastName: ''\n  });\n  const [loading, toggleLoading] = useState(false);\n  const [Register] = useMutation(REGISTER);\n\n  const updateInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    const updated = { ...input,\n      [name]: value\n    };\n    setInput(updated);\n  };\n\n  const handleCreateAccount = async e => {\n    for (let field in input) {\n      if (!input[field]) {\n        alert('All fields must be filled out to register');\n        return;\n      }\n    }\n\n    const {\n      loading,\n      error,\n      data\n    } = await Register({\n      variables: { ...input\n      }\n    });\n\n    if (loading) {\n      toggleLoading(true);\n    }\n\n    ;\n\n    if (error) {\n      return `Error: ${error.message}`;\n    }\n\n    ;\n\n    if (data) {\n      console.log(data);\n      toggleLoading(false);\n\n      if (data.register.email === 'already exists') {\n        alert('User with that email already registered');\n      } else {\n        props.fetchUser();\n      }\n\n      props.setShowCreate(false);\n    }\n\n    ;\n  };\n\n  return (\n    /*#__PURE__*/\n    // Replace div with WModal\n    _jsxDEV(\"div\", {\n      className: \"signup-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        onClose: () => props.setShowCreate(false),\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 4\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(WRow, {\n          className: \"modal-col-gap signup-modal\",\n          children: [/*#__PURE__*/_jsxDEV(WCol, {\n            size: \"6\",\n            children: /*#__PURE__*/_jsxDEV(WInput, {\n              className: \"\",\n              onBlur: updateInput,\n              name: \"firstName\",\n              labelAnimation: \"up\",\n              barAnimation: \"solid\",\n              labelText: \"First Name\",\n              wType: \"outlined\",\n              inputType: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(WCol, {\n            size: \"6\",\n            children: /*#__PURE__*/_jsxDEV(WInput, {\n              className: \"\",\n              onBlur: updateInput,\n              name: \"lastName\",\n              labelAnimation: \"up\",\n              barAnimation: \"solid\",\n              labelText: \"Last Name\",\n              wType: \"outlined\",\n              inputType: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-spacer\",\n          children: \"\\xA0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(WInput, {\n          className: \"modal-input\",\n          onBlur: updateInput,\n          name: \"email\",\n          labelAnimation: \"up\",\n          barAnimation: \"solid\",\n          labelText: \"Email Address\",\n          wType: \"outlined\",\n          inputType: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-spacer\",\n          children: \"\\xA0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(WInput, {\n          className: \"modal-input\",\n          onBlur: updateInput,\n          name: \"password\",\n          labelAnimation: \"up\",\n          barAnimation: \"solid\",\n          labelText: \"Password\",\n          wType: \"outlined\",\n          inputType: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(WButton, {\n        className: \"modal-button\",\n        onClick: handleCreateAccount,\n        span: true,\n        clickAnimation: \"ripple-light\",\n        hoverAnimation: \"darken\",\n        shape: \"rounded\",\n        color: \"primary\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }, this)\n  );\n};\n\n_s(CreateAccount, \"rCok74c/rfAC642PS5F4sURcEpU=\", false, function () {\n  return [useMutation];\n});\n\n_c = CreateAccount;\nexport default CreateAccount;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateAccount\");","map":{"version":3,"sources":["/Users/tommylin/Desktop/CSE316/cse316_hw3/client/src/components/modals/CreateAccount.js"],"names":["React","useState","REGISTER","useMutation","WModal","WMHeader","WMMain","WMFooter","WButton","WInput","WRow","WCol","CreateAccount","props","input","setInput","email","password","firstName","lastName","loading","toggleLoading","Register","updateInput","e","name","value","target","updated","handleCreateAccount","field","alert","error","data","variables","message","console","log","register","fetchUser","setShowCreate"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAA2B,uBAA3B;AACA,SAASC,WAAT,QAAgC,gBAAhC;AAEA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,MAA3B,EAAmCC,QAAnC,EAA6CC,OAA7C,EAAsDC,MAAtD,EAA8DC,IAA9D,EAAoEC,IAApE,QAAgF,aAAhF;;;AAEA,MAAMC,aAAa,GAAIC,KAAD,IAAW;AAAA;;AAChC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC;AAAEe,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,QAAQ,EAAE,EAAvB;AAA2BC,IAAAA,SAAS,EAAE,EAAtC;AAA0CC,IAAAA,QAAQ,EAAE;AAApD,GAAD,CAAlC;AACA,QAAM,CAACC,OAAD,EAAUC,aAAV,IAA2BpB,QAAQ,CAAC,KAAD,CAAzC;AACA,QAAM,CAACqB,QAAD,IAAanB,WAAW,CAACD,QAAD,CAA9B;;AAGA,QAAMqB,WAAW,GAAIC,CAAD,IAAO;AAC1B,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,CAAC,CAACG,MAA1B;AACA,UAAMC,OAAO,GAAG,EAAE,GAAGd,KAAL;AAAY,OAACW,IAAD,GAAQC;AAApB,KAAhB;AACAX,IAAAA,QAAQ,CAACa,OAAD,CAAR;AACA,GAJD;;AAMA,QAAMC,mBAAmB,GAAG,MAAOL,CAAP,IAAa;AACxC,SAAK,IAAIM,KAAT,IAAkBhB,KAAlB,EAAyB;AACxB,UAAI,CAACA,KAAK,CAACgB,KAAD,CAAV,EAAmB;AAClBC,QAAAA,KAAK,CAAC,2CAAD,CAAL;AACA;AACA;AACD;;AACD,UAAM;AAAEX,MAAAA,OAAF;AAAWY,MAAAA,KAAX;AAAkBC,MAAAA;AAAlB,QAA2B,MAAMX,QAAQ,CAAC;AAAEY,MAAAA,SAAS,EAAE,EAAE,GAAGpB;AAAL;AAAb,KAAD,CAA/C;;AACA,QAAIM,OAAJ,EAAa;AAAEC,MAAAA,aAAa,CAAC,IAAD,CAAb;AAAqB;;AAAA;;AACpC,QAAIW,KAAJ,EAAW;AAAE,aAAQ,UAASA,KAAK,CAACG,OAAQ,EAA/B;AAAkC;;AAAA;;AAC/C,QAAIF,IAAJ,EAAU;AACTG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACAZ,MAAAA,aAAa,CAAC,KAAD,CAAb;;AACA,UAAGY,IAAI,CAACK,QAAL,CAActB,KAAd,KAAwB,gBAA3B,EAA6C;AAC5Ce,QAAAA,KAAK,CAAC,yCAAD,CAAL;AACA,OAFD,MAGK;AACJlB,QAAAA,KAAK,CAAC0B,SAAN;AACA;;AACD1B,MAAAA,KAAK,CAAC2B,aAAN,CAAoB,KAApB;AAEA;;AAAA;AACD,GAtBD;;AAwBA;AAAA;AACO;AAEN;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACC;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,OAAO,EAAE,MAAM3B,KAAK,CAAC2B,aAAN,CAAoB,KAApB,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,EAMEpB,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA,cAAH,gBACJ;AAAA,gCACD,QAAC,IAAD;AAAM,UAAA,SAAS,EAAC,4BAAhB;AAAA,kCACC,QAAC,IAAD;AAAM,YAAA,IAAI,EAAC,GAAX;AAAA,mCACC,QAAC,MAAD;AACC,cAAA,SAAS,EAAC,EADX;AACc,cAAA,MAAM,EAAEG,WADtB;AACmC,cAAA,IAAI,EAAC,WADxC;AACoD,cAAA,cAAc,EAAC,IADnE;AAEC,cAAA,YAAY,EAAC,OAFd;AAEsB,cAAA,SAAS,EAAC,YAFhC;AAE6C,cAAA,KAAK,EAAC,UAFnD;AAE8D,cAAA,SAAS,EAAC;AAFxE;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADD,eAOC,QAAC,IAAD;AAAM,YAAA,IAAI,EAAC,GAAX;AAAA,mCACC,QAAC,MAAD;AACC,cAAA,SAAS,EAAC,EADX;AACc,cAAA,MAAM,EAAEA,WADtB;AACmC,cAAA,IAAI,EAAC,UADxC;AACmD,cAAA,cAAc,EAAC,IADlE;AAEC,cAAA,YAAY,EAAC,OAFd;AAEsB,cAAA,SAAS,EAAC,WAFhC;AAE4C,cAAA,KAAK,EAAC,UAFlD;AAE6D,cAAA,SAAS,EAAC;AAFvE;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBAPD;AAAA;AAAA;AAAA;AAAA;AAAA,gBADC,eAgBD;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBC,eAiBD,QAAC,MAAD;AACC,UAAA,SAAS,EAAC,aADX;AACyB,UAAA,MAAM,EAAEA,WADjC;AAC8C,UAAA,IAAI,EAAC,OADnD;AAC2D,UAAA,cAAc,EAAC,IAD1E;AAEC,UAAA,YAAY,EAAC,OAFd;AAEsB,UAAA,SAAS,EAAC,eAFhC;AAEgD,UAAA,KAAK,EAAC,UAFtD;AAEiE,UAAA,SAAS,EAAC;AAF3E;AAAA;AAAA;AAAA;AAAA,gBAjBC,eAqBD;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBArBC,eAsBD,QAAC,MAAD;AACC,UAAA,SAAS,EAAC,aADX;AACyB,UAAA,MAAM,EAAEA,WADjC;AAC8C,UAAA,IAAI,EAAC,UADnD;AAC8D,UAAA,cAAc,EAAC,IAD7E;AAEC,UAAA,YAAY,EAAC,OAFd;AAEsB,UAAA,SAAS,EAAC,UAFhC;AAE2C,UAAA,KAAK,EAAC,UAFjD;AAE4D,UAAA,SAAS,EAAC;AAFtE;AAAA;AAAA;AAAA;AAAA,gBAtBC;AAAA;AAAA;AAAA;AAAA;AAAA,cAPL,eAmCC,QAAC,OAAD;AAAS,QAAA,SAAS,EAAC,cAAnB;AAAkC,QAAA,OAAO,EAAEM,mBAA3C;AAAgE,QAAA,IAAI,MAApE;AAAqE,QAAA,cAAc,EAAC,cAApF;AAAmG,QAAA,cAAc,EAAC,QAAlH;AAA2H,QAAA,KAAK,EAAC,SAAjI;AAA2I,QAAA,KAAK,EAAC,SAAjJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAnCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAHD;AA2CA,CA/ED;;GAAMjB,a;UAGcT,W;;;KAHdS,a;AAiFN,eAAeA,aAAf","sourcesContent":["import React, { useState } \tfrom 'react';\nimport { REGISTER }\t\t\tfrom '../../cache/mutations';\nimport { useMutation }    \tfrom '@apollo/client';\n\nimport { WModal, WMHeader, WMMain, WMFooter, WButton, WInput, WRow, WCol } from 'wt-frontend';\n\nconst CreateAccount = (props) => {\n\tconst [input, setInput] = useState({ email: '', password: '', firstName: '', lastName: '' });\n\tconst [loading, toggleLoading] = useState(false);\n\tconst [Register] = useMutation(REGISTER);\n\n\t\n\tconst updateInput = (e) => {\n\t\tconst { name, value } = e.target;\n\t\tconst updated = { ...input, [name]: value };\n\t\tsetInput(updated);\n\t};\n\n\tconst handleCreateAccount = async (e) => {\n\t\tfor (let field in input) {\n\t\t\tif (!input[field]) {\n\t\t\t\talert('All fields must be filled out to register');\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tconst { loading, error, data } = await Register({ variables: { ...input } });\n\t\tif (loading) { toggleLoading(true) };\n\t\tif (error) { return `Error: ${error.message}` };\n\t\tif (data) {\n\t\t\tconsole.log(data)\n\t\t\ttoggleLoading(false);\n\t\t\tif(data.register.email === 'already exists') {\n\t\t\t\talert('User with that email already registered');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tprops.fetchUser();\n\t\t\t}\n\t\t\tprops.setShowCreate(false);\n\n\t\t};\n\t};\n\n\treturn (\n        // Replace div with WModal\n\n\t\t<div className=\"signup-modal\">\n\t\t\t<div className=\"modal-header\" onClose={() => props.setShowCreate(false)}>\n\t\t\t\tSign Up\n\t\t\t</div>\n\n\t\t\t{\n\t\t\t\tloading ? <div />\n\t\t\t\t\t: <div>\n\t\t\t\t\t\t<WRow className=\"modal-col-gap signup-modal\">\n\t\t\t\t\t\t\t<WCol size=\"6\">\n\t\t\t\t\t\t\t\t<WInput \n\t\t\t\t\t\t\t\t\tclassName=\"\" onBlur={updateInput} name=\"firstName\" labelAnimation=\"up\" \n\t\t\t\t\t\t\t\t\tbarAnimation=\"solid\" labelText=\"First Name\" wType=\"outlined\" inputType=\"text\" \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</WCol>\n\t\t\t\t\t\t\t<WCol size=\"6\">\n\t\t\t\t\t\t\t\t<WInput \n\t\t\t\t\t\t\t\t\tclassName=\"\" onBlur={updateInput} name=\"lastName\" labelAnimation=\"up\" \n\t\t\t\t\t\t\t\t\tbarAnimation=\"solid\" labelText=\"Last Name\" wType=\"outlined\" inputType=\"text\" \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</WCol>\n\t\t\t\t\t\t</WRow>\n\n\t\t\t\t\t\t<div className=\"modal-spacer\">&nbsp;</div>\n\t\t\t\t\t\t<WInput \n\t\t\t\t\t\t\tclassName=\"modal-input\" onBlur={updateInput} name=\"email\" labelAnimation=\"up\" \n\t\t\t\t\t\t\tbarAnimation=\"solid\" labelText=\"Email Address\" wType=\"outlined\" inputType=\"text\" \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"modal-spacer\">&nbsp;</div>\n\t\t\t\t\t\t<WInput \n\t\t\t\t\t\t\tclassName=\"modal-input\" onBlur={updateInput} name=\"password\" labelAnimation=\"up\" \n\t\t\t\t\t\t\tbarAnimation=\"solid\" labelText=\"Password\" wType=\"outlined\" inputType=\"password\" \n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t}\n\t\t\t<WButton className=\"modal-button\" onClick={handleCreateAccount} span clickAnimation=\"ripple-light\" hoverAnimation=\"darken\" shape=\"rounded\" color=\"primary\">\n\t\t\t\tSubmit\n\t\t\t</WButton>\n\t\t</div>\n\t);\n}\n\nexport default CreateAccount;\n"]},"metadata":{},"sourceType":"module"}